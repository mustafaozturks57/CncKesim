@model IEnumerable<Ticari_Otomasyon.Models.CncModel.Orfiche>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutPage.cshtml";
}
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet" />
<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
      rel="stylesheet" />
<!-- MDB -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.0.0/mdb.min.css"
      rel="stylesheet" />
<link rel="stylesheet" href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">

<br />
<br />
<br />
<br />
<p>
    <a href="/CncOrfiches/Create" class="btn btn-success">Yeni Sipariş Oluştur</a>
</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.MusteriId)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Tarih)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.BarkodNo)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.SiparisSekli)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.BID)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Aciklama)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.TerminTarihi)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.BelgeNo)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.OzelKod)
        </th>
     
        <th>
            @Html.DisplayNameFor(model => model.SiparisDurumu)
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.MusteriId)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Tarih)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.BarkodNo)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.SiparisSekli)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.BID)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Aciklama)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.TerminTarihi)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.BelgeNo)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.OzelKod)
            </td>
           
            <td>
                @Html.DisplayFor(modelItem => item.SiparisDurumu)
            </td>
            <td>
                <a href="/CncOrfiches/Edit/@item.FisNo" class="btn btn-success">Düzenle</a>
                <a onclick=DeleteOrfiche('@item.FisNo') class="btn btn-danger">Sil</a>
            </td>
        </tr>
    }

</table>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
  
    function DeleteOrfiche(data) {
        $.ajax({

            url: '/CncOrfiches/Delete?fisNo=' + data,

            type: 'POST',

            data: { format: 'json' },

            success: function (response) {
                console.log(response);
            },

        });
    }
</script>
